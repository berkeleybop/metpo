id: http://w3id.org/metpo/taxa_extraction
name: taxa_extraction
title: METPO Taxa Extraction Template
description: >-
  A simple OntoGPT template for extracting bacterial taxa from literature
  and grounding them in NCBI taxonomy ontology. Designed for IJSEM articles
  that focus on taxonomic description and characterization.
license: https://creativecommons.org/publicdomain/zero/1.0/
prefixes:
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  linkml: https://w3id.org/linkml/
  metpo_taxa: http://w3id.org/metpo/taxa_extraction/
  ontogpt: http://w3id.org/ontogpt/
default_prefix: metpo_taxa
default_range: string
imports:
  - linkml:types
  - ontogpt:core
classes:
  TaxonomicLiteratureExtraction:
    tree_root: true
    attributes:
      pmid:
        description: >-
          PubMed ID of the article (e.g., 23996836)
        range: string
      primary_taxa:
        description: >-
          semicolon-separated list of the main bacterial or archaeal taxa described 
          in this article, including new species, genera, or higher taxonomic groups 
          that are the primary focus of the study
        multivalued: true
        range: Taxon
      related_taxa:
        description: >-
          semicolon-separated list of other bacterial, archaeal, or reference taxa 
          mentioned in the article for comparison, phylogenetic analysis, or context
        multivalued: true
        range: Taxon
      strains:
        description: >-
          semicolon-separated list of specific strain designations mentioned in the text
        multivalued: true
        range: Strain
        annotations:
          prompt: >-
            Extract specific strain designations mentioned in the text. Include strain numbers, culture collection numbers, type strain designations, and isolate names. Examples: "15-1T", "ATCC 25922", "MG1655", "K-12", "strain ABC123", "isolate XYZ-1". Do not include general species names.
      isolation_sources:
        description: >-
          semicolon-separated list of environments, habitats, or sources from which 
          the organisms were isolated (e.g., soil, seawater, human gut, plant roots)
        multivalued: true
        range: Environment
      taxonomic_rank:
        description: >-
          the primary taxonomic level being described in this article 
          (e.g., species, genus, family)
        range: TaxonomicRank
      article_type:
        description: >-
          the type of taxonomic study described in this article
        range: ArticleType
      strain_relationships:
        description: >-
          semicolon-separated list of strain-species relationships found in the text
        multivalued: true
        range: StrainRelationship
        annotations:
          prompt: >-
            A semicolon-separated list of strain-species relationships, where each 
            relationship connects a strain to its parent taxon. Each relationship should 
            have a strain name, relationship type, and parent species/genus.
            For example: "MG1655 strain_of Escherichia coli; K-12 strain_of Escherichia coli; 
            ATCC 25922 type_strain_of Klebsiella pneumoniae". If no strain relationships are found, leave this field empty.
      environment_relationships:
        description: >-
          semicolon-separated list of specific taxon-environment relationships found in the text
        multivalued: true
        range: EnvironmentRelationship
        annotations:
          prompt: >-
            For each environment found in isolation_sources field above, extract structured relationships linking specific taxa to those environments. Generate tuples like "Bacillus vietnamensis isolated_from soil", "strain 15-1T found_in seawater", "Pseudomonas species obtained_from plant roots". Convert ALL isolation sources mentioned above into taxon-environment relationships.
      source_text:
        range: string
        annotations:
          prompt.skip: "true"

  Taxon:
    is_a: NamedEntity
    description: >-
      Bacterial, archaeal, or other microbial taxa including species, genera, 
      families, and higher taxonomic groups. Includes both novel taxa being 
      described and reference taxa used for comparison.
    annotations:
      annotators: sqlite:obo:ncbitaxon, sqlite:obo:gtdb

  Strain:
    is_a: NamedEntity
    description: >-
      Specific bacterial or archaeal strain designations including culture collection numbers, type strains, and isolate identifiers.

  Environment:
    is_a: NamedEntity
    description: >-
      Environmental contexts, habitats, ecological niches, and isolation sources 
      where microorganisms are found or from which they were isolated.
    annotations:
      annotators: sqlite:obo:envo, sqlite:obo:ecosim

  StrainRelationship:
    is_a: CompoundExpression
    description: >-
      Specific relationships between strain designations and their parent taxonomic groups
    attributes:
      subject:
        description: the specific strain designation or identifier
        range: Strain
      predicate:
        description: the type of strain-taxon relationship (strain_of, type_strain_of, isolate_of, etc.)
        range: StrainRelationshipType
      object:
        description: the parent species or genus this strain belongs to
        range: Taxon

  EnvironmentRelationship:
    is_a: CompoundExpression
    description: >-
      Specific relationships between taxa and their environmental contexts or isolation sources
    attributes:
      subject:
        description: the specific organism or taxon
        range: Taxon
      predicate:
        description: the type of environment-taxon relationship (isolated_from, found_in, native_to, etc.)
        range: EnvironmentRelationshipType
      object:
        description: the specific environmental context or isolation source
        range: Environment

enums:
  StrainRelationshipType:
    description: Type of relationship between strain and parent taxon
    permissible_values:
      strain_of:
        description: Regular strain of a species
      type_strain_of:
        description: Type strain of a species
      reference_strain_of:
        description: Reference strain of a species
      isolate_of:
        description: Clinical or environmental isolate of a species
      variant_of:
        description: Variant or mutant strain of a species

  EnvironmentRelationshipType:
    description: Type of relationship between taxon and environment
    permissible_values:
      isolated_from:
        description: The organism was isolated from this environment
      found_in:
        description: The organism was found in this environment
      obtained_from:
        description: The organism was obtained from this environment
      native_to:
        description: The organism is native to this environment
      inhabits:
        description: The organism inhabits this environment

  TaxonomicRank:
    description: Primary taxonomic level being described
    permissible_values:
      species:
        description: Species-level description (most common in IJSEM)
      genus:
        description: Genus-level description or revision
      family:
        description: Family-level analysis
      order:
        description: Order-level or higher taxonomy
      strain:
        description: Strain-level characterization
      multiple:
        description: Multiple taxonomic levels described

  ArticleType:
    description: Type of taxonomic study
    permissible_values:
      novel_species:
        description: Description of new species
      novel_genus:
        description: Description of new genus
      taxonomic_revision:
        description: Revision or reclassification of existing taxa
      phylogenetic_analysis:
        description: Phylogenetic or evolutionary study
      comparative_taxonomy:
        description: Comparative analysis of multiple taxa
      emended_description:
        description: Emended or updated taxonomic description