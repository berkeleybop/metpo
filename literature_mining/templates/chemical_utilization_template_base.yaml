id: http://w3id.org/metpo/chemical_utilization_extraction
name: chemical_utilization_extraction
title: METPO Chemical Utilization Extraction Template
description: >-
  A focused OntoGPT template for extracting organism-chemical utilization
  relationships from bacterial literature. Uses a two-step approach: first
  identifies chemicals mentioned in text, then extracts specific utilization
  relationships with METPO interaction predicates.
license: https://creativecommons.org/publicdomain/zero/1.0/
prefixes:
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  linkml: https://w3id.org/linkml/
  metpo_chem: http://w3id.org/metpo/chemical_utilization_extraction/
  ontogpt: http://w3id.org/ontogpt/
  METPO: http://purl.obolibrary.org/obo/METPO_
default_prefix: metpo_chem
default_range: string
imports:
  - linkml:types
  - ontogpt:core
classes:
  ChemicalUtilizationLiteratureExtraction:
    tree_root: true
    description: >-
      Extract chemical utilization relationships with consistent strain identification.
      CRITICAL: Use identical strain identifiers across strains, chemical_utilizations, 
      and strain_relationships fields. Extract clean strain designators (e.g., "DA-C8", 
      "MG1655") consistently throughout all fields.
    attributes:
      pmid:
        description: >-
          PubMed ID of the article (e.g., 23996836)
        range: string
      study_taxa:
        description: >-
          semicolon-separated list of the main bacterial or archaeal taxa
          being studied for chemical utilization
        multivalued: true
        range: Taxon
      strains:
        description: >-
          semicolon-separated list of specific strain designations mentioned in the text
        multivalued: true
        range: Strain
        annotations:
          prompt: >-
            Extract ONLY the strain designation part (e.g., "DA-C8", "MG1655", "ATCC 25922") WITHOUT genus/species prefixes. Focus on strain numbers, culture collection codes, and isolate identifiers. Automatically remove terminal "T" or "(T)" suffixes as these indicate type strain status (e.g., "DA-C8T" becomes "DA-C8", "K13T" becomes "K13"). Include strain numbers, culture collection numbers, and isolate names, but NOT the full taxonomic context.
      chemicals_mentioned:
        description: >-
          List of chemical compounds mentioned in the text that could be
          involved in metabolic processes, growth, or biochemical reactions
        multivalued: true
        range: ChemicalCompound
        annotations:
          prompt: >-
            Identify all chemical compounds mentioned in the text that are
            relevant to bacterial metabolism, growth, or biochemical activities.
            Include: carbon sources (glucose, acetate), nitrogen sources (ammonia,
            nitrate), vitamins (B12, biotin), metabolic intermediates, enzyme
            substrates, electron acceptors/donors, and any other chemicals
            involved in bacterial physiology. If no relevant chemicals are mentioned, 
            leave this field completely empty. DO NOT include entries like "None 
            explicitly mentioned" or similar phrases.
      chemical_utilizations:
        description: >-
          List of specific organism-chemical utilization relationships with
          their interaction types from METPO ontology
        multivalued: true
        range: ChemicalUtilization
        annotations:
          prompt: >-
            For each chemical compound found in chemicals_mentioned field above,
            extract structured relationships linking specific STRAIN IDENTIFIERS to those
            chemical compounds. CRITICAL: Use EXACTLY THE SAME strain identifiers as listed
            in the strains field above - copy them verbatim, character-for-character
            (clean identifiers like "DA-C8", "MG1655", "ATCC 25922" WITHOUT genus/species prefixes).
            Generate tuples specifying the strain identifier, the chemical, and the interaction type.
            Look for explicit statements like "strain X ferments glucose", "isolate Y requires vitamin B12", 
            "DA-C8 hydrolyzes starch", etc. The subject must be a strain identifier that appears in 
            the strains field, NOT a full species name. Convert ALL relevant chemical utilization 
            patterns into strain-chemical relationships. If no chemical utilization relationships 
            are found, leave this field completely empty.
      strain_relationships:
        description: >-
          semicolon-separated list of strain-species relationships found in the text
        multivalued: true
        range: StrainRelationship
        annotations:
          prompt: >-
            A semicolon-separated list of strain-species relationships, where each
            relationship connects a strain identifier to its parent taxon. CRITICAL: Use EXACTLY
            THE SAME strain identifiers as listed in the strains field above - copy them verbatim,
            character-for-character. Do not modify, abbreviate, or expand the strain identifiers.
            Each relationship should have the strain identifier, relationship type, and parent species/genus.
            For example: "DA-C8 type_strain_of Insulambacter thermoxylanivorax; MG1655 strain_of Escherichia coli;
            ATCC 25922 type_strain_of Klebsiella pneumoniae". The strain identifiers MUST be identical
            to those used in the strains and chemical_utilizations fields. If no strain relationships are found,
            leave this field empty. DO NOT write "none".
      article_type:
        description: >-
          the type of study described in this article
        range: ArticleType
        annotations:
          prompt: >-
            The type of study or article. Choose the most appropriate category based on the content,
            with emphasis on metabolic_study for articles focusing on chemical utilization, degradation,
            or metabolic pathways.
      source_text:
        range: string
        annotations:
          prompt.skip: "true"
  Taxon:
    is_a: NamedEntity
    description: >-
      Bacterial, archaeal, or other microbial taxa utilizing chemicals.
    annotations:
      annotators: sqlite:obo:ncbitaxon

  Strain:
    is_a: NamedEntity
    description: >-
      Specific bacterial or archaeal strain designations including culture collection numbers, type strains, and isolate identifiers.

  ChemicalUtilization:
    is_a: CompoundExpression
    description: >-
      Specific relationships between strains and chemical compounds focusing
      on utilization, degradation, and metabolic interactions
    attributes:
      subject:
        description: the strain that utilizes the chemical compound
        range: Strain
      predicate:
        description: the type of chemical utilization relationship from METPO ontology
        range: ChemicalInteractionPropertyEnum
        annotations:
          prompt: >-
            Select the specific interaction type from the METPO ontology that best
            matches the relationship described in the text. Focus on utilization,
            degradation, or metabolic transformation of chemical compounds.
      object:
        description: the specific chemical compound being utilized
        range: ChemicalCompound
  ChemicalCompound:
    is_a: NamedEntity
    description: >-
      Chemical compounds involved in bacterial metabolism including carbon
      sources, nitrogen sources, electron acceptors/donors, vitamins,
      enzyme substrates, and other metabolic compounds.
    annotations:
      annotators: sqlite:obo:chebi

  StrainRelationship:
    is_a: CompoundExpression
    description: >-
      Specific relationships between strain designations and their parent taxonomic groups
    attributes:
      subject:
        description: the specific strain designation or identifier
        range: Strain
      predicate:
        description: the type of strain-taxon relationship (strain_of, type_strain_of, isolate_of, etc.)
        range: StrainRelationshipType
      object:
        description: the parent species or genus this strain belongs to
        range: Taxon

enums:
  StrainRelationshipType:
    description: Type of relationship between strain and parent taxon
    permissible_values:
      strain_of:
        description: Regular strain of a species
      type_strain_of:
        description: Type strain of a species
      reference_strain_of:
        description: Reference strain of a species
      isolate_of:
        description: Clinical or environmental isolate of a species
      variant_of:
        description: Variant or mutant strain of a species
      derived_from:
        description: Strain derived from another strain (e.g., mutants, subcultures)
      identical_to:
        description: Strain is identical or equivalent to another designation
      deposited_as:
        description: Strain deposited in culture collection under this designation

  ArticleType:
    description: Type of study or article
    permissible_values:
      novel_species:
        description: Description of new species
      novel_genus:
        description: Description of new genus
      taxonomic_revision:
        description: Revision or reclassification of existing taxa
      phylogenetic_analysis:
        description: Phylogenetic or evolutionary study
      comparative_taxonomy:
        description: Comparative analysis of multiple taxa
      emended_description:
        description: Emended or updated taxonomic description
      genome_sequence:
        description: Complete or draft genome sequence publication
      review:
        description: Review article or perspective
      biochemical_characterization:
        description: Biochemical or physiological characterization study
      ecological_study:
        description: Ecological distribution or environmental survey
      metabolic_study:
        description: Study focused on metabolism, chemical utilization, or degradation pathways
      physiology_study:
        description: Physiological characterization or growth studies

# ChemicalInteractionPropertyEnum will be dynamically injected here