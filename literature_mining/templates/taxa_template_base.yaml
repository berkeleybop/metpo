id: http://w3id.org/metpo/taxa_extraction
name: taxa_extraction
title: METPO Taxa Extraction Template
description: >-
  A simple OntoGPT template for extracting bacterial taxa from literature
  and grounding them in NCBI taxonomy ontology. Designed for IJSEM articles
  that focus on taxonomic description and characterization.
license: https://creativecommons.org/publicdomain/zero/1.0/
prefixes:
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  linkml: https://w3id.org/linkml/
  metpo_taxa: http://w3id.org/metpo/taxa_extraction/
  ontogpt: http://w3id.org/ontogpt/
default_prefix: metpo_taxa
default_range: string
imports:
  - linkml:types
  - ontogpt:core
classes:
  TaxonomicLiteratureExtraction:
    tree_root: true
    attributes:
      pmid:
        description: >-
          PubMed ID of the article (e.g., 23996836)
        range: string
      primary_taxa:
        description: >-
          semicolon-separated list of the main bacterial or archaeal taxa described 
          in this article, including new species, genera, or higher taxonomic groups 
          that are the primary focus of the study
        multivalued: true
        range: Taxon
      related_taxa:
        description: >-
          semicolon-separated list of other bacterial, archaeal, or reference taxa 
          mentioned in the article for comparison, phylogenetic analysis, or context
        multivalued: true
        range: Taxon
      strains:
        description: >-
          semicolon-separated list of specific strain designations mentioned in the text
        multivalued: true
        range: Strain
        annotations:
          prompt: >-
            Extract ONLY the strain designation part (e.g., "DA-C8", "MG1655", "ATCC 25922") WITHOUT genus/species prefixes. Focus on strain numbers, culture collection codes, and isolate identifiers. Automatically remove terminal "T" or "(T)" suffixes as these indicate type strain status (e.g., "DA-C8T" becomes "DA-C8", "K13T" becomes "K13"). Include strain numbers, culture collection numbers, and isolate names, but NOT the full taxonomic context.
      isolation_sources:
        description: >-
          semicolon-separated list of environments, habitats, or sources from which 
          the organisms were isolated (e.g., soil, seawater, human gut, plant roots)
        multivalued: true
        range: Environment
      taxonomic_rank:
        description: >-
          the primary taxonomic level being described in this article 
          (e.g., species, genus, family)
        range: TaxonomicRank
      article_type:
        description: >-
          the type of taxonomic study described in this article
        range: ArticleType
      strain_relationships:
        description: >-
          semicolon-separated list of strain-species relationships found in the text
        multivalued: true
        range: StrainRelationship
        annotations:
          prompt: >-
            Extract ALL strain-taxon relationships explicitly mentioned or clearly implied in the text.
            For each strain found in the 'strains' field, determine its parent taxon.
            Format: "strain_id relationship_type parent_taxon"
            Examples: "SolV strain_of Methylacidiphilum fumariolicum",
            "ATCC 25922 type_strain_of Klebsiella pneumoniae".
            If a strain is mentioned but its parent taxon is not clear from context,
            still extract it using the most likely parent from primary_taxa.
            If no strain relationships can be determined, write 'none'.
      environment_relationships:
        description: >-
          semicolon-separated list of specific taxon-environment relationships found in the text
        multivalued: true
        range: EnvironmentRelationship
        annotations:
          prompt: >-
            Extract specific taxon-environment relationships ONLY when explicitly stated in the text.
            Link the specific taxon mentioned to its isolation source/environment.
            Format: "taxon_name relationship_type environment"
            Examples: "Candidatus Methylomirabilis oxyfera isolated_from freshwater",
            "Methylomicrobium alcaliphilum found_in saline environments".
            Do NOT create relationships if no environment is mentioned. If no relationships can be determined, write 'none'.
      source_text:
        range: string
        annotations:
          prompt.skip: "true"

  Taxon:
    is_a: NamedEntity
    description: >-
      Bacterial, archaeal, or other microbial taxa including species, genera, 
      families, and higher taxonomic groups. Includes both novel taxa being 
      described and reference taxa used for comparison.
    annotations:
      annotators: sqlite:obo:ncbitaxon

  Strain:
    is_a: NamedEntity
    description: >-
      Specific bacterial or archaeal strain designations including culture collection numbers, type strains, and isolate identifiers.

  Environment:
    is_a: NamedEntity
    description: >-
      Environmental contexts, habitats, ecological niches, and isolation sources 
      where microorganisms are found or from which they were isolated.
    annotations:
      annotators: sqlite:obo:envo, sqlite:obo:ecosim

  StrainRelationship:
    is_a: CompoundExpression
    description: >-
      Specific relationships between strain designations and their parent taxonomic groups
    attributes:
      subject:
        description: the specific strain designation or identifier
        range: Strain
      predicate:
        description: the type of strain-taxon relationship (strain_of, type_strain_of, isolate_of, etc.)
        range: StrainRelationshipType
      object:
        description: the parent species or genus this strain belongs to
        range: Taxon

  EnvironmentRelationship:
    is_a: CompoundExpression
    description: >-
      Specific relationships between taxa and their environmental contexts or isolation sources
    attributes:
      subject:
        description: the specific organism or taxon
        range: Taxon
      predicate:
        description: the type of environment-taxon relationship (isolated_from, found_in, native_to, etc.)
        range: EnvironmentRelationshipType
      object:
        description: the specific environmental context or isolation source
        range: Environment

enums:
  StrainRelationshipType:
    description: Type of relationship between strain and parent taxon
    permissible_values:
      strain_of:
        description: Regular strain of a species
      type_strain_of:
        description: Type strain of a species
      reference_strain_of:
        description: Reference strain of a species
      isolate_of:
        description: Clinical or environmental isolate of a species
      variant_of:
        description: Variant or mutant strain of a species
      derived_from:
        description: Strain derived from another strain (e.g., mutants, subcultures)
      identical_to:
        description: Strain is identical or equivalent to another designation
      deposited_as:
        description: Strain deposited in culture collection under this designation

  EnvironmentRelationshipType:
    description: Type of relationship between taxon and environment
    permissible_values:
      isolated_from:
        description: The organism was isolated from this environment
      found_in:
        description: The organism was found in this environment
      obtained_from:
        description: The organism was obtained from this environment
      native_to:
        description: The organism is native to this environment
      inhabits:
        description: The organism inhabits this environment

  TaxonomicRank:
    description: Primary taxonomic level being described
    permissible_values:
      species:
        description: Species-level description (most common in IJSEM)
      genus:
        description: Genus-level description or revision
      family:
        description: Family-level analysis
      order:
        description: Order-level or higher taxonomy
      strain:
        description: Strain-level characterization
      multiple:
        description: Multiple taxonomic levels described

  ArticleType:
    description: Type of taxonomic study
    permissible_values:
      novel_species:
        description: Description of new species
      novel_genus:
        description: Description of new genus
      taxonomic_revision:
        description: Revision or reclassification of existing taxa
      phylogenetic_analysis:
        description: Phylogenetic or evolutionary study
      comparative_taxonomy:
        description: Comparative analysis of multiple taxa
      emended_description:
        description: Emended or updated taxonomic description
      genome_sequence:
        description: Complete or draft genome sequence publication
      review:
        description: Review article or perspective on taxonomy/microbiology
      biochemical_characterization:
        description: Biochemical or physiological characterization study
      ecological_study:
        description: Ecological distribution or environmental survey